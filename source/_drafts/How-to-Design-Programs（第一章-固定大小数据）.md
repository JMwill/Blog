title: How-to-Design-Programs（第一章-固定大小数据）
tags:
- 译文
- Design Programs
---

## 固定大小数据

每一个程序语言都带有一个数据语言以及一个操作数据的语言。第一个语言总是提供某种形式的原子数据；用数据来代表世界上各种各样的真实的信息，一个程序员必须学习基本数据的构成并描述这样的组合。同样地，第二个语言提供一些对原子数据的基础操作，程序员的任务就是要去组合这些操作到程序里面来执行期望的计算。我们用算术来组合程序语言的这两个部分，因为它能概括你小学学到的知识。

这本书的第一部分(I)介绍了BSL的算术，程序语言在序幕中被使用。算术上，这是你第一个简单的程序里面的一小步，就像你知道的数学上的函数一样。虽然在你明白之前，编写程序的过程看起来很混乱，然后你会花费很长的时间来组织你的想法。我们将“组织想法”跟设计同等看待，这本书的第一部分就是向你介绍设计程序的系统的方法。

---

## 1. 算术

从[Prologue：How to Program][prologue]中，你知道如何用BSL符号写下你从一年级学到的那些类型的表达式：

- 写下"("，
- 写下主要的操作符的名称op，
- 写下参数，用空格隔开然后
- 写下")",

作为提醒，这里是一个原始的表达式：

`(+ 1 2)`

它使用了+号，是一个用来将两个数相加的操作符，紧跟两个参数，都是纯数字。下面是另外一个例子：

`(+ 1 (+ 1 (+ 1 1) 2) 3 4 5)`

这第二个例子利用了上面公开解释描述的两点。第一，原始操作符可能需要消耗两个以上的参数。第二，参数本身没有必要是数字；它们也可以是一个表达式。

求表达式的值也十分的直截了当。首先，BSL求出所有的原始操作的参数的值，第二，它将数据结果“喂到”操作中，从而产生结果

```
(+ 1 2)
==
3
```

以及

```
(+ 1 (+ 1 (+ 1 1) 2) 3 (+ 2 2) 5)
==
(+ 1 (+ 1 2 2) 3 4 5)
==
(+ 1 5 3 4 5)
==
18
```

这些计算应该看起来很熟悉，因为它们跟你在数学课上执行的算术是一样的。对写下的步骤你可能会有所不同；你可能从来没有被教过如何写下一系列计算步骤。然而，BSL就像你那样来执行计算，而这也算是一种解脱，它保证你明白它能用原子操作以及原子数据来做什么，因此你有希望可以预测到你的程序将如何计算。一般来说，程序员知道选择的语言如何计算是至关重要的，因为与之相反地，一个程序的计算可能会对使用它们的人或程序计算代表人带来损害。

这一章的剩下的章节介绍了BSL的四种形式的原子数据：数字，字符串，图像，以及布尔值。我们这里使用了类比于物理的“原子”这个词。你无法窥视原子数据里面的值，但是你确实有函数用于组合数个原子数据片段为另外一个，检索它们的属性，以及原始数据等。本章节介绍了一些这种函数，也叫作原始操作或者预定义操作。你能在DrRacket自带的BSL的手册中找到其他的定义。

---

## 1.1 数字的算术

大多数人在他们听到“算术”，“操作数字”时认为“数字”以及“操作数字”就是意味着加上两个数字来产生第三个；从一个数字里面减去另外一个；确定两个数的最大公约数；以及更多其他这些东西。如果我们不过于以字面上的意思来理解算术，我们可能会将角度的正弦值，一个实数四舍五入为最接近的整数等等也包括在内。

BSL语言支持数字与算术。就像在序幕里讨论的那样，一个算术操作如+号像下面这样用：

`(+ 3 4)`

也就是说以前缀符的形式来用。接下来是一些我们的语言提供的对数字进行的操作：+, -, *, /, abs, add1, ceiling, denominator, exact->inexact, expt, floor, gcd, log, max, numerator, quotient, random, remainder, sqr, 以及tan。我们选择以我们的方式来排列字母表，只是为了展示各种类型的操作，（希望你）探索他们计算什么，然后找出还有多少这些操作。

如果你需要一个你在数学课上知道的关于数的操作，恰巧BSL也知道这个操作，猜下它的名字以及在互动区域进行一下实验。假如说你需要计算一个角度的sin值；试下

```
> (sin 0)
0
```

然后之后就开心地使用它。或者看下帮助平台。你会发现那里为了某些操作，BSL也能够识别一些广泛使用的数的名称，例如：[pi][pi]以及[e][e]


[prologue]: http://www.ccs.neu.edu/home/matthias/HtDP2e/part_prologue.html
[pi]: http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._pi%29%29
[e]: http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._e%29%29
