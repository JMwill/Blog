title: 【译】ES6的350个要点概述
tags:
- ES6
- JavaScript
- Front End
---

## 前言：

我的[深入ES6][3b219273]系列由24篇覆盖了未来ES6中大多数语法以及特性的改变的文章组成。这篇文章的目的是总结所有的要点，提供给你ES6中最切实可行的建议，从而让你可以快速开始。我已经在深入ES6系列文章中提供链接，因此你可以轻易地深入到你感兴趣的主题。

听说你们喜欢要点，所以我写了这篇包含数百要点的文章。在开篇这里有覆盖所有主题的目录。显然，里面有你要的要点。需要注意的是，如果你想要让这些概念深入脑海的话，你将需要很多的时间去通过[深入系列][71be0617]学习相关概念同时还需要练习，试验这写ES6的代码。

## 目录
- [介绍][dd1633bc]
- [工具][d6dc887d]
- [解构赋值][afd90b94]
- [展开运算符以及不定参数][e8b6fbb4]
- [箭头函数][e64231bf]
- [模板字符串][bf729279]
- [对象字面值][75c9caa5]
- [类][006355ad]
- [Let以及Const][d3c8e7b3]
- [Symbols][d81cc7e9]
- [迭代器][cbef365f]
- [生成器][b70bcc5e]
- [Promises][866870f1]
- [映射][ea91abdd]
- [弱映射][ddd6f844]
- [集合][9d2b75e5]
- [弱集合][9f40009a]
- [代理][8b1f4dfd]
- [反射][92765db6]
- [Number对象][1233f62d]
- [Math对象][cf33277f]
- [Array对象][847ce29d]
- [Object对象][abe180fc]
- [字符串跟Unicode][701a6c35]
- [模块组件][bf072aff]

十分抱歉目录这么长，下面我们开始ES6旅程。

## 介绍

- ES6 - 也叫被称作“和谐”，“es-next”，“ES2015” - 是这门语言最新且已敲定的版本。
- ES6规范最终敲定于2015年的7月（又称：ES2015）
- 未来敲定的版本将会使用ES[YYYY]的命名模式，例如：ES2016对应于ES7
    - 每年发布一个新版本，新特性将会一波接着一波
    - 从ES6最先讨论中，我们大多数还是叫它ES6
    - 从ES2016开始（ES7）我们应该使用ES[YYYY]的模式来称呼新版本
    - 命名方案的最主要原因是想要迫使浏览器厂商尽快更新新的特性到现代浏览器中

## 工具

- 要想让ES6运行，你需要一个JavaScript到JavaScript的转译器
- 转译器具有下列功能
    - 它们允许你将相应语言的最新版本的代码翻译成旧版本的可运行代码
    - 随着浏览器的支持越来越好，我们会将ES2016和ES2017翻译成ES6以及以外版本的代码
    - 我们将会需要更好的来源映射功能
    - 它们是在产品上运行ES6版本语言的最可信任的方式（即使浏览器只支持ES5版本的语言）
- Babel（一个转译器）有一个杀手级特性：阅读友好型输出
- 用[Babel][d6ff4634]去将ES6静态转译为ES5
- 用[babelify][e5a76d8d]将`babel`合并到你的`[Gulp, Grunt, or npm run][4ef399d4]`构建流程当中去
- Node.js`v4.x.x`或者更高版本已经对ES6特性有了像样的支持，感谢V8
- 在任何node的版本中使用`babel-node`，因为它可以将模块转译成ES5
- Babel有蓬勃发展的生态系统，已经支持一些ES2016的特性，同时出了插件进行支持
- 阅读[ES6工具简史][725b291f]

## 解构赋值

- `var {foo} = pony`等于`var foo = pony.foo`
- `var {foo: baz} = pony`等于`var baz = pony.foo`
- 你可以提供默认值，`var {foo='bar'} = baz`相当于`foo: 'bar'`如果`baz.foo`是`undefined`
- 只要你喜欢，你可以拿到尽可能多的属性，可以起别名或者不起
    - `var { foo， bar:baz } = { foo: 0, bar: 1}`将会得到`foo:0 跟baz:1`
- 你可以用多层结构。`var {foo: {bar}} = {foo: {bar: 'baz'}}`会得到`deep: 'baz'`
- 你也可以重命名。`var {foo: {bar: deep}} = {foo: {bar: 'baz'}}`，会得到`deep: 'baz'`
- 如果属性没有找到会像平时一样得到undefined，例如：`var {foo} = {}`
- 多层结构中没有找到属性的话会抛出一个错误，例如：`var {foo: {bar}} = {}`
- 对于数组一样适用，`[a, b] = [0, 1]`得到a: 0和b: 1
- 你可以跳过数组中的元素，`[a, , b] = [0, 1, 2]`，会得到a: 0和b: 2
- 你可以交换两个数而不需要额外的交换参数，`[a, b] = [b, a]`
- 你可以在函数的参数中使用解构赋值的特性
    - 分配默认参数如：`function foo (bar=2) {}`
    - 默认参数也可以是对象如：`function foo (bar={a: 1, b: 2}) {}`
    - 完全解构对象如：`function foo({a = 1, b = 2}) {}`
    - 如果额外的参数没有赋予任何值则提供一个空对象如：`function foo ({a = 1, b = 2} = {}) {}`
- 看[深入了解JavaScript ES6解构][a2ed0e70]

## 展开运算符以及不定参数

- 不定参数是更好的`arguments`
    - 你应在方法签名中定义它如：`function foo (...everything) {}`
    - `everything`是一个传输所有参数到foo函数的数组
    - 你可以在`...everything`前定义一些参数如：`function foo(bar, ...rest) {}`
    - 已命名的参数将被排除在`...rest`之外
    - `...rest`一定要是列表中的最后一个参数
- 展开运算符比魔法更好用，也是一样使用`...`标记语法
    - 避免在`.apply`调用方法时使用，如：`fn(...[1, 2, 3])`跟`fn(1, 2, 3)`一样
    - 更容易的级联`[1, 2, ...[3, 4, 5], 6, 7]`
    - 将类数组对象或可迭代对象投射到数组中，如：`[...document.querySelectorAll('img')]`
    - [解构][98b953ad] 中也十分好用，`[a, , ...rest] = [1, 2, 3, 4, 5]`会得到`a: 1`跟`rest: [3, 4, 5]`
    - 让`new + .apply`毫不费力，`new Date(...[2015, 31, 8])`
- 看[深入ES6展开运算符][1d71b0a3]

## 箭头函数

- 能够用简易的方法来声明一个函数像`param => returnValue`
- 在进行这些操作如：`[1, 2].mpa(x => x * 2)`将变得十分方便
- 有几种方式可供选择，可能需要改掉以前的一些习惯
    - `p1 => expr`对于只有一个参数的函数是可行的
    - `p1 => expr`会隐含地返回所提供的expr表达式
    - 要隐式地返回一个对象可以将其包裹在一个括号`() => ({foo: 'bar'})`里面否则会抛出错误
    - 当你有零个，两个或多个参数的时候是需要括号包裹的`() => expr`或者`(p1, p2) => expr`
    - 在右边通过使用大括号可以声明一个代码块`() => {}`，可以在里面写多句代码
    - 当使用代码块的方式的时候是没有隐式的返回操作的，需要自己主动提供`() => {return 'foo'}`
- 你不可以静态地声明一个箭头函数，但是运行时对大多数方法都能够很好地推断出其名称
- 箭头函数内的词法域绑定在其父级
    - `this`跟父级的`this`是一样的
    - `this`无法通过`.call`，`.apply`或者是类似于反射类型的方法修改
- 看[深入ES6箭头函数][7d961bf4]

## 模板字符串

- 你可以通过" &#x60; "反引号来定义字符串，而不是`"`或者`'`
- 被反引号包裹的字符串称为模板字符串
- 模板字符串可以是多行的
- 模板字符串在里面进行插值操作如：`poofoo.com is ${rating}`，里面的rating是一个变量
- 你可以在插值的地方使用任何有意义的JavaScript表达式如：`${ 2 * 3 }`或者`${foo()}`
- 你可以通过标签模板来修改模板字符串的插值方式
    - 在模板字符串前添加一个fn前缀``` fn`foo, ${bar} and ${baz}` ```
    - fn函数会被立马调用，传进去的参数是`template, ...expressions`
    - `template`实际上是`['foo', ' and ', '']`而`expressions`则是`[bar, baz]`
    - fn返回的结果将会是模板函数的值
    - 有可能用于输入清理或者参数结构等地方
- 将字符串包裹在模板字符串中比用单引号或双引号来包裹字符要好
- 看[深入ES6模板字符串][4446b66f]

  [3b219273]: https://ponyfoo.com/articles/tagged/es6-in-depth "深入了解ES6"
  [71be0617]: https://ponyfoo.com/articles/tagged/es6-in-depth "深入学习系列"
  [dd1633bc]: https://ponyfoo.com/articles/es6#introduction "目录介绍"
  [d6dc887d]: https://ponyfoo.com/articles/es6#tooling "转码工具"
  [afd90b94]: https://ponyfoo.com/articles/es6#assignment-destructuring "解构赋值"
  [e8b6fbb4]: https://ponyfoo.com/articles/es6#spread-operator-and-rest-parameters "展开运算符以及不定参数"
  [e64231bf]: https://ponyfoo.com/articles/es6#arrow-functions "箭头函数"
  [bf729279]: https://ponyfoo.com/articles/es6#template-literals "模板字符串"
  [75c9caa5]: https://ponyfoo.com/articles/es6#object-literals "对象字面值"
  [006355ad]: https://ponyfoo.com/articles/es6#classes "类"
  [d3c8e7b3]: https://ponyfoo.com/articles/es6#let-and-const "Let以及Const"
  [d81cc7e9]: https://ponyfoo.com/articles/es6#symbols "Symbols"
  [cbef365f]: https://ponyfoo.com/articles/es6#iterators "迭代器"
  [b70bcc5e]: https://ponyfoo.com/articles/es6#generators "生成器"
  [866870f1]: https://ponyfoo.com/articles/es6#promises "Promises"
  [ea91abdd]: https://ponyfoo.com/articles/es6#maps "映射"
  [ddd6f844]: https://ponyfoo.com/articles/es6#weakmaps "弱映射"
  [9d2b75e5]: https://ponyfoo.com/articles/es6#sets "集合"
  [9f40009a]: https://ponyfoo.com/articles/es6#weaksets "弱集合"
  [8b1f4dfd]: https://ponyfoo.com/articles/es6#proxies "代理"
  [92765db6]: https://ponyfoo.com/articles/es6#reflection "反射"
  [1233f62d]: https://ponyfoo.com/articles/es6#number "Number对象"
  [cf33277f]: https://ponyfoo.com/articles/es6#math "Math对象"
  [847ce29d]: https://ponyfoo.com/articles/es6#array "Array对象"
  [abe180fc]: https://ponyfoo.com/articles/es6#object "Object对象"
  [701a6c35]: https://ponyfoo.com/articles/es6#strings-and-unicode "字符串跟Unicode"
  [bf072aff]: https://ponyfoo.com/articles/es6#modules "模块组件"
  [d6ff4634]: http://babeljs.io/ "Babel"
  [e5a76d8d]: https://github.com/babel/babelify "babelify"
  [4ef399d4]: https://ponyfoo.com/articles/gulp-grunt-whatever "Gulp, Grunt, or npm run"
  [725b291f]: https://ponyfoo.com/articles/a-brief-history-of-es6-tooling "ES6工具简史"
  [a2ed0e70]: https://ponyfoo.com/articles/es6-destructuring-in-depth "深入了解JavaScript ES6解构"
  [1d71b0a3]: https://ponyfoo.com/articles/es6-spread-and-butter-in-depth "深入ES6展开运算符"
  [98b953ad]: https://ponyfoo.com/articles/es6#assignment-destructuring "解构的解释"
  [7d961bf4]: https://ponyfoo.com/articles/es6-arrow-functions-in-depth "深入ES6箭头函数"
  [4446b66f]: https://ponyfoo.com/articles/es6-template-strings-in-depth "深入ES6模板字符串"
