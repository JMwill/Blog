title: How to Design Programs（序幕：如何编程）
tags:
- 译文
- Design Programs
---

## 序幕：如何编程

在你小时候，父母会教你算术以以及用手指进行简单的演算：“1 + 1 = 2”； “1 + 2 = 3”；等等。然后他们会问“3加2是多少？”然后你会用手来计算。这场景中，父母相当于在编程，我们则负责计算。某种意义上讲，这是就是编程跟运算。

现在时候后转变角色，打开DrRacket并从语言菜单点击“选择语言”。这会打开一个有为“如何设计程序”准备的“教学语言”清单对话框，选择“初学者”（初学者语言，又叫做BSL）然后点击OK来开启DrRacket。完成这个任务后，你可以开始编程了，DrRacket现在变成了一个小孩，可以开始最简单的演算。在DrRacket的最顶端输入

> (+ 1 1)

点击运行，然后结果2会显示在下面那一部分。

![图3：初识DrRacket](/images/How-to-Design-Programs/drracket-plain.png)

这是一个多么简单的程序。你讲DrRacket当做小学生一样问问题，然后DrRacket就为你计算结果。你也可以让DrRacket一次性计算几个问题：

    (+ 2 2)
    (* 3 3)
    (- 4 2)
    (/ 6 2)

当你点击RUN之后，你会在DrRacket的下半部分看见4 9 2 3这几个期望的结果。

让我们放慢一下脚步，然后介绍几个名词。

- 在DrRacket的上半部分叫做定义区域。在这一个区域里，你能创建程序，又叫做编辑程序。一旦你添加名词或者在定义区域改变了一些东西，保存按钮会显示在左上角，当你第一次点击保存的时候，DrRacket会问你要一个保存文件的名字，这样它才能够正确地保存的你的文件。一旦你的定义区域跟你的文件已经进行了关联，就点击保存按钮以确保定义区域的文件内容已经安全保存到文件中。
- 程序有表达式组成。你已经在数学中见到过表达式了。现在，一个表达式由左边是一个“(”中间是一个纯数字或者其他东西最右边是一个“)”号，DrRacket会对括号之间的表达式覆盖一层阴影。
- 当你点击RUN的时候，DrRacket在定义域运行表达式然后在互动区域展示结果。然后，DrRacket这个你忠实的仆从，在提示(>)处等待你的命令。DrRacket中出现的提示符号代表等待你输入额外的表达式，然后就像运行定义区域中的表达式一样处理你的输入。

```
> (+ 1 1)
2
```

在提示处输入表达式，按下你键盘的“return”键或者“enter”键，然后看下DrRacket的响应结果。只要你想，你就可以这样做：

```
> (+ 2 2)
4
> (* 3 3)
9
> (- 4 2)
2
> (/ 6 2)
3
> (sqr 3)
9
> (expt 2 3)
8
> (sin 0)
0
> (cos pi)
#i-1.0
```

让我们仔细看最后的数字。它的“#i”前缀是“我不知道准确的数字所以先用这个（来替代）”或者说是不准确数字的简称。DrRacket很诚实，不像你的计算器或者其他编程系统。当它不知道准确的数字时，它会用特殊的前缀提醒你。稍后，我们会展示给你看关于“计算机数字”的十分奇怪的事实，然后你会十分欣赏DrRacket会发出这样的警告。

现在，你可能会想DrRacket是否能够一次性添加超过两个数字，答案是可以的！事实上，它可以以两种不同的方式实现：

```
> (+ 2 ( + 3 4))
9
> (+ 2 3 4)
9
```

第一个是嵌套运算，就像你从学校学到的。第二个是BSL运算；如果你经常使用括号将运算操作跟数字组合在一起的话，（这个操作）是那么的自然。

在BSL中，每一次你想要用“计算器操作”你需要写下一个开括号，然后是一个你想要的执行的操作，比如说是**+** ,接着是这个操作运行需要的（用空格或者换行符分开的）几个数字，最后，再加上一个闭括号。跟在操作符之后的称之为操作数。嵌套运算意味着你可以用一个表达式作为一个操作数，这就是为什么：

```
> (+ 2 (+ 3 4))
9
```

这是一个正常的程序，只要你喜欢，你可以随时这样做：

```
> (+ 2 (+ (* 3 3) 4))
15
> (+ 2 (+ (* 3 (/ 12 4)) 4))
15
> (+ (* 5 5) (+ (* 3 (/ 12 4)) 4))
38
```

除了你的忍耐力，这里没有对嵌套（层数）做限制。

当然，在DrRacket为你计算时，它用的规则是你熟知且喜欢的数学规则。就像你一样，它可以判定加法运算的结果，只要所有的操作数是纯数字。如果一个操作数是一个括号包裹的运算表达式，即某些以`(`以及操作符开始的表达式，那么它将最先决定这个嵌套表达式的结果。而DrRacket不像你那样需要判断哪个表达式应该先计算，因为第一个规则就是唯一的一个需要应用的规则。

DrRacket便利的代价在于它的括号是具有含义的。你作为一个编程的人，必须要输入完所有这些括号，而且不能输入过多的括号。例如，有时候额外的括号对于的数学老师来说是可以接受的，但这不属于BSL（可接受的）范畴。`(+ (1) (2))`这个表达式含有过多的括号，DrRacket会告诉你说处在无不确定项的情况：

```
> (+ (1) (2))
function call: expected a function after the open parenthesis, found a number
```

虽然，一旦你适应了BSL编程，你会发现它根本不是一个（要付出的）代价，首先如果操作符很自然地就允许这样做，你可以用一个操作符一次性操作几个操作数。

```
> (+ 1 2 3 4 5 6 7 8 9 0)
45
> (* 1 2 3 4 5 6 7 8 9 0)
0
```

如果你不知道一个操作符能操作几个操作数，输入一个例子到互动区域里面，然后点击“return”；DrRacket让你知道（例子）是否能工作以及是如何工作的。或者用帮助菜单来看文档。第二，当你会看其他人写的程序时，你永远没必要知道哪一个表达式会先运算。括号以及嵌套会马上告诉你。

在这方面看来，编程是写下可理解的算术表达式，然后计算就是去确定它的值。在DrRacket中能够十分轻易地探索这方面的编程以及计算。

---

## 算术，还是算术
